<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" />
  <link rel="stylesheet" href="./public/style.css" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css">
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Piano</title>
</head>

<body>

  <div id="menu">
    <button id="bar" class="btn setting-btn" data-toggle="collapse" aria-expanded="false" data-target="#content"
      aria-controls="content" class="">
      <i class="fas fa-cog"></i>
    </button>
    <div id="content" class="collapse">
      <form class="pl-2" action="/update" method="post" enctype="multipart/form-data">

        <div class="row mr-0">
          <div class="col-3">
            <select class="custom-select" name="slot" id="song-slot-input" required>
              <option disabled selected value="">Choix...</option>
              <% for(let i=0; i<sounds.length; i++) {%>
              <option value="<%= i+1 %>"><%= i+1 %></option>
              <% } %>
            </select>

          </div>

          <div class="col-7">
            <input type="file" class="" name="file1" id="file-input" required>
          </div>
        </div>

        <div class="text-right pb-2 pr-2">
          <button class="btn btn-success" type="submit">Enregistrer</button>
        </div>
      </form>
    </div>
  </div>


  <section class="app">

    <header>
      <h1>Piano</h1>
      <!-- <p>Create sounds with just one tap</p> -->
    </header>
    <div class="visual"></div>
    <div class="container">
      <div class="row text-center">
      <div class="col-lg-4">
        <button class="btn-warning mb-2 btn col-4" id="record">Enregistrer</button>
      </div>
      <div class="col-lg-4">
        <button class="btn-danger mb-2 btn d-none col-4" id="stop">Arreter</button>
      </div>
      <div class="col-lg-4">
        <button class="btn-success mb-2 btn d-none col-4" id="play">Lire</button>
      </div>

    </div>
    </div>
    
    <div class="pads">
      <% let shortcuts = ["a","z","e","r","t","y"] %>
      <% for(let sound of sounds) {%>
      <div class="pad<%=i++%> d-flex justify-content-center flex-column align-items-center">
        <audio src="../public/sounds/<%=sound.nom%>" class="sound"></audio>
        <p class="small"><%= sound.nom %></p>
        <p class="font-weight-bold h"><%= shortcuts[i-2] %></p>
        
      </div>
      <%}%>

      </div>
    </section>

    <script src="./public/index.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/tone@13.8.25/build/Tone.js"></script>
    
  </body>
</html>